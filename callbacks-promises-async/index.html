
<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.min.js" type="text/javascript"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <button id="button">Get Jokes</button>
    
    <!-- //////////////////////
    //    Callback Hell     //
    ///////////////////////// -->

    <!-- <script>
      document.querySelector("#button").addEventListener("click", () => {
        $.get("https://api.chucknorris.io/jokes/random", joke1 => {
          $.get("https://api.chucknorris.io/jokes/random", joke2 => {
            $.get("https://api.chucknorris.io/jokes/random", joke3 => {
              $.get("https://api.chucknorris.io/jokes/random", joke4 => {
                $.get("https://api.chucknorris.io/jokes/random", joke5 => {
                  let jokeArray = [joke1, joke2, joke3, joke4, joke5];
                  console.log(jokeArray);
                });
              });
            });
          });
        });
      });
    </script> -->

    <!-- ////////////////////////
    //    Promise Chaning     //
    /////////////////////////// -->
    
     <!-- <script>

      document.querySelector("#button").addEventListener("click", () => {
        let jokes = [];

        axios.get("https://api.chucknorris.io/jokes/random")
          .then((response) => {
            jokes.push(response.data.value)
            return axios.get("https://api.chucknorris.io/jokes/random")
          })
          .then((response) => {
            jokes.push(response.data.value)
            return axios.get("https://api.chucknorris.io/jokes/random")
          })
          .then((response) => {
            jokes.push(response.data.value)
            return axios.get("https://api.chucknorris.io/jokes/random")
          })
          .then((response) => {
            jokes.push(response.data.value)
            return axios.get("https://api.chucknorris.io/jokes/random")
          })
          .then((response) => {
            jokes.push(response.data.value)
            console.log(jokes);
          })
          .catch((error) => console.log(error));
      });
    </script> -->


    <!-- /////////////////////////////////
    //    Promise.All Promise.Race     //
    //////////////////////////////////// -->

    <!-- NB All Must be successful, otherwise the .catch() will run -->

<script>

    document.querySelector("#button").addEventListener("click", () => {
      let jokes = [];

      let promises = [
      axios.get("https://api.chucknorris.io/jokes/random"),
      axios.get("https://api.chucknorris.io/jokes/random"),
      axios.get("https://api.chucknorris.io/jokes/random"),
      axios.get("https://api.chucknorris.io/jokes/random"),
      axios.get("https://api.chucknorris.io/jokes/random"),
      ];

      Promise.all(promises)
      // Promise.race(promises)
        .then((jokes)=> {
          console.log(jokes);
        })
        .catch( (error)=> console.log(error));
      });

  </script>

<!-- ////////////////////////
    //    Async Await     //
    /////////////////////// -->


  </body>
</html>